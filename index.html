<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <title>Animação Bola 2D</title>
        <style>
            canvas {
                background: #222;
                display: block;
                margin: 0 auto;
            }
            .botoes {
                text-align: center;
                margin-bottom: 10px;
            }
        </style>
    </head>
    <body>
        <div class="botoes">
            <button onclick="iniciarQuestao1()">Questão 1</button>
            <!-- Adicione mais botões para outras questões -->
        </div>
        <canvas id="canvas" width="800" height="600"></canvas>
        <script>
            const canvas = document.getElementById("canvas");
            let animFrameIdRef = { id: null };

            function limparCanvas() {
                const ctx = canvas.getContext("2d");
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }

            function pararAnimacao() {
                if (animFrameIdRef.id) {
                    cancelAnimationFrame(animFrameIdRef.id);
                    animFrameIdRef.id = null;
                }
            }


            function carregarScriptQuestao(numeroQuestao) {
                pararAnimacao();
                limparCanvas();
                // Remove script antigo se existir
                const oldScript = document.getElementById("scriptQuestao");
                if (oldScript) {
                    oldScript.remove();
                }
                // Cria novo script
                const script = document.createElement("script");
                script.src = `questoes/${numeroQuestao}.js`;
                script.id = "scriptQuestao";
                script.onload = function() {
                    const funcName = `startQuestao${numeroQuestao}`;
                    if (typeof window[funcName] === "function") {
                        window[funcName](canvas, animFrameIdRef);
                    }
                };
                document.body.appendChild(script);
            }

            function iniciarQuestao1() {
                carregarScriptQuestao(1);
            }
            // Para adicionar mais questões, crie arquivos como questoes/2.js e funções iniciarQuestao2() { carregarScriptQuestao(2); }

            // Adicione funções para outras questões aqui, exemplo:
            // function iniciarQuestao2() { carregarScriptQuestao("questao2.js", "startQuestao2"); }

            // Inicializa com a Questão 1 por padrão
            iniciarQuestao1();
        </script>
    </body>
</html>
